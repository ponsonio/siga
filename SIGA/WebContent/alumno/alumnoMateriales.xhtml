<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"

    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:a="http://richfaces.org/a4j">
    
<rich:panel>

        <h:form id="alumnoMaterialesForm">
	         	<h:outputText value="#{messages['label.sin_infomacion']}" rendered="#{materialesLista.rowCount==0}"/>
				<rich:dataTable var="materiales" value="#{materialesLista}" rendered="#{materialesLista.rowCount>0}">
				   <f:facet name="header">
					  	<h:outputText value="#{messages['label.descargaMateriales']}" />
					</f:facet> 					
			          <h:column>
			            <f:facet name="header">
			              <h:outputText value="#{messages['label.descripcion']}"/>
			            </f:facet>
						<h:outputText value="#{materiales.nombreArchivo}"/> 
			          </h:column>
			          
			          <h:column>
			            <f:facet name="header">
			              <h:outputText value="#{messages['label.referencia']}"/>
			            </f:facet>
						<h:outputText value="#{materiales.descripcion}"/> 
			          </h:column>
			          <h:column>
			            <f:facet name="header">
			            	  <h:outputText value="#{messages['label.curso']}"/>
				         </f:facet>
				         		
				         		<c:forEach items="#{materiales.subPeriodoAcademicoSeccionCursos}" 
				         			var="${subPeriodoAcademicoSeccionCurso}" begin= "0" end="10"> 
				         				<h:outputText value="#{subPeriodoAcademicoSeccionCurso}"/><br/> 
				         		</c:forEach>

				         		<!--  
				         		<c:forEach items="#{materiales.periodoAcademicoSeccionCursos}" var="periodoAcademicoSeccionCurso" end="10" > 
				         			<h:outputText value="#{periodoAcademicoSeccionCurso}"/><br/> 
				         		</c:forEach>

						        <ui:repeat value="#{materiales.subPeriodoAcademicoSeccionCursos}" var="subPeriodoAcademicoSeccionCurso" varStatus="status">
									<h:outputText value="#{subPeriodoAcademicoSeccionCurso.curso.nombre}"/><br/> 
								</ui:repeat>
								-->	
			          </h:column>
	                <rich:column>
	                    <f:facet name="header">Descargar</f:facet>
	                    <s:link value="Descargar" action="#{CAlumnoMateriales.descargar}">
		                    <f:param name="attachmentId" value="${materiales.idMaterial}" />
		                </s:link>
	                </rich:column>
				</rich:dataTable>
         </h:form>
	</rich:panel>

</ui:composition>